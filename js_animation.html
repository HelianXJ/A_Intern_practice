<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>js_animation</title>
	<style>
	body { padding: 0; margin: 0;}
	#div1 { width: 200px; height:200px; background: red; position: relative; left:-200px; }
	#share { width: 20px; height:50px; background: yellow; position: absolute; left:200px; top:75px;}
	</style>
	<script>
	var timer = null;
	function $$(id) {
		return document.getElementById(id);
	}
	function startMove(iTarget) {
		clearInterval(timer);

		var oDiv = $$('div1');

		timer = setInterval(function() {
			// var speed = 0; //匀速运动
			// if(oDiv.offsetLeft < iTarget){ //匀速
			// 	speed = 10;
			// }else {
			// 	speed = -10;
			// }

			var speed = (iTarget-oDiv.offsetLeft)/80;  //变速运动
			speed = speed >0 ? Math.ceil(speed):Math.floor(speed);

			if(oDiv.offsetLeft == iTarget){
				clearInterval(timer);
			}
			else{
				alert(speed);
				oDiv.style.left = Math.floor(oDiv.offsetLeft+speed)+'px';
			}
			
		},30)
	}
	
	window.onload = function() {
		var oDiv = $$('div1');

		oDiv.onmouseover = function() {
			startMove(0);
		}
		oDiv.onmouseout = function() {
			startMove(-200);
		}
	}
	</script>
</head>
<body>
	<div id="div1">
		<span id="share">分享</span>
	</div>
</body>
</html>